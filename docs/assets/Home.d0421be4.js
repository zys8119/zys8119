import{g as H,o as f,c as w,p as v,h as E,i as d,j as S,u as b,a as z}from"./vendor.9d77f614.js";import{_ as y}from"./index.7b1915c7.js";const T=r=>(v("data-v-aef50ac2"),r=r(),E(),r),I={class:"AnimationTime"},C=T(()=>d("div",{id:"canvas_container"},null,-1)),P=T(()=>d("p",{id:"github"},[d("a",{href:"https://github.com/zys8119",target:"_blank"},[d("img",{src:"https://yoshihitofujiwara.github.io/icon_white.png",width:"40",height:"40",alt:"Github"})])],-1)),F=[C,P],G={setup(r){return H(()=>{class c{constructor(s,a){this.$container=s,this.options=$.extend(!0,{isController:!1,isAxis:!1,isGui:!0,isStats:!1},a),this.width=this.$container.width(),this.height=this.$container.height(),this.startTime=null,this.time=null,this._animationId=null,this.event=new INK.Events,this.stats=new Stats,this.$container[0].appendChild(this.stats.dom),this.options.isStats||$(this.stats.domElement).css({display:"none"}),this.options.isGui&&(this.gui=new dat.GUI,console.log(this.gui),this.gui.params={},this.gui.params.stats=this.options.isStats,this.gui.add(this.gui.params,"stats").name("FPS Metor").onChange(()=>{this.gui.params.stats?$(this.stats.domElement).css("display","block"):$(this.stats.domElement).css("display","none")})),this.renderer=new THREE.WebGLRenderer({alpha:!0,antialias:!0}),this.renderer.setClearColor(0,0),this.renderer.setPixelRatio(window.devicePixelRatio),this.renderer.setSize(this.width,this.height),this.scene=new THREE.Scene,this.camera=new THREE.PerspectiveCamera(60,this.width/this.height,.01,1e4),this.camera.position.set(0,0,10),this.camera.aspect=this.width/this.height,this.options.isController&&(this.controller=new THREE.OrbitControls(this.camera,this.renderer.domElement),this.controller.autoRotate=!1,this.controller.autoRotateSpeed=5),this.options.isAxis&&(this.axis=new THREE.AxisHelper(1e3),this.scene.add(this.axis)),this.$container[0].appendChild(this.renderer.domElement),$(window).resize(this.resize.bind(this))}start(){this.startTime=performance.now(),cancelAnimationFrame(this._animationId),this.event.trigger("start",this),this.update()}stop(){cancelAnimationFrame(this._animationId),this.event.trigger("stop",this)}update(){this.time=(performance.now()-this.startTime)/1e3,this._animationId=requestAnimationFrame(this.update.bind(this)),this.event.trigger("update",this),this.render(),this.controller&&this.controller.update(),this.gui.params.stats&&this.stats.update()}render(){this.renderer.render(this.scene,this.camera)}resize(){this.width=this.$container.width(),this.height=this.$container.height(),this.renderer.setSize(this.width,this.height),this.camera.aspect=this.width/this.height,this.camera.updateProjectionMatrix(),this.event.trigger("resize",this)}}let t,n=[],p=[],l,g,o=_();function x(){console.log($("#canvas_container")),t=new c($("#canvas_container"),{isController:!0}),t.gui.params.particles=5e3*6,t.gui.params.size=1,l=new THREE.TextureLoader().load("https://yoshihitofujiwara.github.io/particle-clock/assets/img/icon.png"),l.minFilter=THREE.LinearFilter,l.magFilter=THREE.LinearFilter,l.format=THREE.RGBFormat;let e=new THREE.FontLoader,s="https://yoshihitofujiwara.github.io/particle-clock/assets/fonts/helvetiker_bold.typeface.json?"+performance.now();e.load(s,a=>{g=a,t.gui.add(t.gui.params,"particles",500,1e5).step(10).onChange(i=>{m()}),t.gui.add(t.gui.params,"size",.1,2).onChange(i=>{m()}),m(),t.start()}),INK.isSmartPhone()?t.camera.position.z=360:t.camera.position.z=120,t.event.on("update",()=>{p.forEach((i,h)=>{i.particles.verticesNeedUpdate=!0,i.particleSystem.material.color.setHSL((Math.sin((t.time+h/o.length*INK.TWO_PI)*.2)+1)/2,.5,.5)});let a=_();if(o!=a){for(let i=0;i<o.length;i++)o[i]!=a[i]&&R(i,+a[i]);o=a}})}function m(){for(let e=0;e<10;++e)n[e]={},n[e].geometry=new THREE.TextGeometry(e,{font:g,size:40,height:8,curveSegments:10}),n[e].geometry.center(),n[e].particles=new THREE.Geometry,n[e].particles.vertices=THREE.GeometryUtils.randomPointsInGeometry(n[e].geometry,t.gui.params.particles/6);t.scene.remove.apply(t.scene,t.scene.children);for(let e=0;e<o.length;++e){let s=new THREE.Geometry;s.vertices=n[+o[e]].particles.clone(n[+o[e]].particles).vertices;let a=new THREE.PointsMaterial({size:t.gui.params.size*window.devicePixelRatio,map:l,blending:THREE.AdditiveBlending,depthTest:!1,transparent:!0}),i=new THREE.Points(s,a);i.position.x=34*e-34*2.55,p[e]={particleSystem:i,particles:s},t.scene.add(i)}}function R(e,s){let a=p[e],i=n[s].particles;for(let h=0;h<a.particles.vertices.length;h++)TweenMax.to(a.particles.vertices[h],.7,{ease:Expo.easeInOut,x:i.vertices[h].x,y:i.vertices[h].y,z:i.vertices[h].z})}function _(){let e=new Date;return u(e.getHours())+u(e.getMinutes())+u(e.getSeconds())}function u(e){let s=""+e;return s.length<2&&(s="0"+s),s}$(()=>{x()})}),(c,t)=>(f(),w("div",I,F))}};var A=y(G,[["__scopeId","data-v-aef50ac2"]]);const j=r=>(v("data-v-08d6e20c"),r=r(),E(),r),M={class:"Home"},L=j(()=>d("div",{class:"title"},"zys8119@\u5F20\u4E91\u5C71",-1)),k=S({setup(r){return b(c=>({"31a3e572":c.css__rem,"510fdeb8":c.css__rem__base})),(c,t)=>(f(),w("div",M,[L,z(A)]))}});var D=y(k,[["__scopeId","data-v-08d6e20c"]]);export{D as default};
